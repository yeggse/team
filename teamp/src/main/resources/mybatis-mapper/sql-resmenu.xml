<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.example.demo.mapper.ResmenuMapper">	
	<select id="selectResmenu" parameterType="hashmap" resultType="com.example.demo.model.Res">	
		SELECT
			*, 0 as sum <!-- 컬럼을 임의로 추가해서 계산 할 수 있게 만든거임! SQL에는 실제로 추가 된건 아님! -->
		FROM
			t3_resmenu
		WHERE resnum = #{resnum}
		
	</select>
<!-- group by 컬럼명 -->

<select id="selectResmenu1" parameterType="hashmap" resultType="com.example.demo.model.Res">	
		SELECT
			ordernum,menuname,pickuptime,payment,price, idx
			reskind, startdate,enddate,picture,introduce,supply,orderer,resnum
		FROM
			t3_reserve
		WHERE orderer = #{id}
		
	</select>
	
<select id="selectPaymentmy1" parameterType="hashmap" resultType="com.example.demo.model.Res">	
		SELECT
			ordernum, menuname, price, resnum
		FROM
			t3_reserve
		WHERE
		 	orderer = #{id} AND salecomple = "Y"
	</select>
	
	
	
	
	
	<!-- 사업자 메뉴관리 페이지에 사용 -->
	<select id="selectResmenu2" parameterType="hashmap" resultType="com.example.demo.model.Res">	
			SELECT
				*
			FROM
				t3_restaurant RES 
			INNER JOIN 
				t3_resmenu RM ON RES.RESNUM = RM.RESNUM
			WHERE 
				RES.RESNUM =1;  <!-- 하드코딩 고치기 -->
	</select>
	
	
	<!-- 사업자 메뉴관리 페이지 게시물 갯수 -->
	<select id="selectResmenuCnt" resultType="int">	
		SELECT 
			COUNT(*) AS CNT
		FROM
			t3_resmenu
	</select>
	

</mapper>