<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.example.demo.mapper.MainMapper">	
	<!-- 기본 출력 -->
	<select id="firstList" parameterType="hashmap" resultType="com.example.demo.model.Main">	
		SELECT
			resnum, region, startdate, reskind, resname, resphone, grade, resadd
		FROM
			t3_restaurant	
		ORDER BY resnum ASC
	</select>
	
	<!-- 식당명 검색 후 출력 -->
	<select id="searchList" parameterType="hashmap" resultType="com.example.demo.model.Main">	
		SELECT
			resnum, region, startdate, reskind, resname, resphone, grade, resadd
		FROM
			t3_restaurant	
		where
			resname like concat('%', #{resname}, '%')
		ORDER BY resnum ASC
	</select>	
	
	
	
	
	
	
	
	<select id="selectMainList2" parameterType="hashmap" resultType="com.example.demo.model.Main">	
		SELECT
			board_idx, title, hit_cnt, created_datetime, creator_id
		FROM
			t_board
		WHERE
			deleted_yn = 'N' AND creator_id = #{creator_id}
		ORDER BY board_idx DESC
	</select>

	<select id="searchListArea" parameterType="hashmap" resultType="com.example.demo.model.Main">	
		SELECT
			resnum, region, reskind, resname, resphone, grade
		FROM
			t3_restaurant
		WHERE 1=1
			<if test='region != null and region != ""'>
				title LIKE CONCAT('%', #{region}, '%')
			</if>
	</select>
</mapper>

<!-- 
		<if test='keyword != null and keyword != ""'>
			and title like concat('%', #{keyword}, '%')
		</if>
		ORDER BY board_idx DESC
 -->